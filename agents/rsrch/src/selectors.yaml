# NotebookLM DOM Selector Configuration
#
# This file externalizes hardcoded selectors from notebooklm-client.ts
# to make them easier to update when the UI changes.
#
# Usage: Import selectors in TypeScript:
#   import { selectors } from './selectors';
#   await page.click(selectors.NOTEBOOK_CREATE_BTN);
#
# Version: 1.0.0
# Last Updated: 2026-01-10

# ============================================================
# HOME PAGE / NOTEBOOK LIST
# ============================================================
home:
  # Create new notebook button
  createNewButton: ".create-new-button"
  # Project/notebook cards container
  projectButton: "project-button"
  projectButtonTitle: ".project-button-title"
  projectCard: "mat-card"
  primaryActionButton: ".primary-action-button"

# ============================================================
# NOTEBOOK PAGE
# ============================================================
notebook:
  # Title input for new notebook
  titleInput: "input.title-input"
  # URL pattern for notebook pages
  urlPattern: "**/notebook/**"

# ============================================================
# SOURCES TAB
# ============================================================
sources:
  # Tab selector (multi-language support)
  tab: 'div[role="tab"]'
  tabTextPattern: "Zdroje|Sources"

  # Add sources button
  addSourcesButton: "Přidat zdroje|Add sources"

  # Source type buttons in dialog
  dropZoneButton: "button.drop-zone-icon-button"
  webSourcePattern: "web|link|site"
  pasteTextPattern: "Pasted text|Vložený text|Copied text|Zkopírovaný text|Text"
  drivePattern: "Disk|Drive"

  # Dialog elements
  urlInputTextarea: "mat-dialog-container textarea"
  submitButton: "mat-dialog-container button.mat-primary"
  dialogContainer: "mat-dialog-container"

  # Select all sources checkbox
  selectAllInputEn: 'input[aria-label="Select all sources"]'
  selectAllInputCs: 'input[aria-label="Vybrat všechny zdroje"]'

  # Drive picker iframe
  drivePickerFrame: "iframe"
  driveSearchInput: 'input[type="text"]'
  driveFileRow: 'div[role="option"], div[role="row"]'
  driveSelectButton: "Vybrat|Select"

# ============================================================
# STUDIO / AUDIO OVERVIEW PANEL
# ============================================================
studio:
  # Maximize studio panel
  maximizeButton: 'button[aria-label="Maximalizovat"]'

  # Artifact elements
  artifactButton: "button.artifact-button-content"
  artifactLibraryItem: "artifact-library-item"
  artifactTitle: ".artifact-title"

  # Audio specific
  audioIcon: "audio_magic_eraser"
  audioIconPattern: "audio"

  # Menu actions
  moreMenuButton: 'button[aria-label*="More"], button[aria-label*="Další"]'
  moreMenuIcon: 'button mat-icon:has-text("more_vert")'
  menuItem: 'button[role="menuitem"]'
  renameOption: "Rename|Přejmenovat"
  downloadOption: "Stáhnout|Download"

  # Rename dialog
  renameInput: 'input[type="text"].rename-input, mat-dialog-container input'

# ============================================================
# AUDIO GENERATION
# ============================================================
audio:
  # Customize audio button (pencil icon)
  customizeButtonEn: 'button[aria-label="Customize audio overview"]'
  customizeButtonCs: 'button[aria-label="Přizpůsobit audio přehled"]'

  # Customize dialog
  customizeTextareaCs: 'textarea[aria-label="Textové pole"]'
  customizeTextareaPlaceholder: 'textarea[placeholder*="Co byste mohli"]'

  # Generate button
  generateButtonCs: 'button:has-text("Vygenerovat")'
  generateButtonEn: 'button:has-text("Generate")'

  # Main audio overview button
  audioOverviewButtonCs: '[aria-label="Audio přehled"]'
  audioOverviewButtonEn: '[aria-label="Audio Overview"]'
  audioOverviewButtonText: 'button:has-text("Audio přehled")'

  # Generation status
  generatingIndicatorCs: "Generování"
  generatingIndicatorEn: "Generating"

# ============================================================
# DOWNLOAD
# ============================================================
download:
  # Menu in artifacts list
  moreButton: 'button mat-icon:has-text("more_vert")'

  # Download option in menu
  downloadMenuItemCs: "Stáhnout"
  downloadMenuItemEn: "Download"

  # Visibility states
  menuVisible: '[role="menu"]'

# ============================================================
# CHAT
# ============================================================
chat:
  input: 'textarea[placeholder*="Začněte psát"], textarea[placeholder*="Tady můžete pokládat"], textarea[placeholder*="Ask a question"]'
  submitButton: 'button[aria-label*="Odeslat"], button[aria-label*="Submit"], button[aria-label*="Send"]'
  messageContainer: "conversation-view"
  lastMessage: "message-bubble:last-of-type .message-content, user-message:last-of-type .message-content"
  thinkingIndicator: "mat-progress-bar, mat-spinner"
  thoughtToggle: 'button[aria-label*="Show reasoning"], button[aria-label*="Zobrazit uvažování"], button:has-text("Show reasoning"), button:has-text("Zobrazit uvažování")'

# ============================================================
# GEMINI SELECTORS
# ============================================================
gemini:
  model:
    trigger: 'button[aria-label*="Změnit model" i], button[aria-label*="Otevřít výběr režimu" i], div[aria-label*="Otevřít výběr režimu" i] button, button:has(mat-icon:has-text("keyboard_arrow_down")), button[aria-label*="Model"], button[aria-label*="model"], [data-testid="model-selector-button"], button:has-text("Gemini")'
    menu: '[role="menu"], [role="listbox"]'
    item: '[role="menuitem"], [role="option"]'
    advanced: 'button:has-text("Advanced"), button:has-text("Pokročilé")'
    # Model names mapping
    flash: '[data-test-id*="bard-mode-option-rychl"], [data-test-id*="bard-mode-option-flash"], text="Rychlý", text="Flash"'
    thinking: '[data-test-id*="bard-mode-option-s"], [data-test-id*="bard-mode-option-think"], text="S myšlením", text="Thinking"'
    pro: '[data-test-id*="bard-mode-option-pro"], text="Pro"'

  auth:
    acceptAll: 'button:has-text("Accept all"), button:has-text("Přijmout vše"), button:has-text("Souhlasím"), button[aria-label*="Accept" i], button[jsname="higCR"]'
    dismiss: 'button:has-text("Ne, díky"), button:has-text("No thanks"), button:has-text("Not now"), button:has-text("Close"), button:has-text("Zavřít"), button:has-text("Později")'
    signIn: 'button:has-text("Sign in"), a:has-text("Sign in")'
    welcome: 'button[aria-label*="Close"], button:has-text("Got it"), button:has-text("Skip")'
  chat:
    app: 'chat-app, .input-area, textarea, div[contenteditable="true"], rich-textarea, .chat-input, [data-input-container]'
    input: 'div[contenteditable="true"], textarea, input[type="text"]'
    send: 'button[aria-label*="Send"], button[aria-label*="Odeslat"], button[data-testid="send-button"], button[type="submit"], button:has(svg[class*="send"]), button:has(path[d*="M2.01"]), div[contenteditable] ~ button'
    # Response container - multiple fallbacks for UI changes
    # model-response: Primary container element
    # structured-content-container: Element containing formatted AI output
    # .model-response-text: Class on the text content container
    # .response-content: Wrapper div for response body
    response: "model-response, structured-content-container, .model-response-text, .response-content"
    history: '.chat-history-list, nav[aria-label="Rozhovory"], nav[aria-label="Conversations"]'
    newChat: 'button[aria-label*="New chat"], button[aria-label*="Nový chat"], button:has-text("New chat"), button:has-text("Nový chat"), [data-testid="new-chat-button"]'
  sidebar:
    menu: 'button[aria-label*="Hlavní nabídka"], button[aria-label*="nabídka"], button[aria-label*="Main menu"], button[aria-label*="Menu"]'
    conversations: 'div.conversation[role="button"], a[href*="/app/"], nav [role="listitem"]'
    showMore: 'button:has-text("Show more"), button:has-text("Zobrazit více")'
    myStuff: "text=/Můj obsah|My Stuff/i"
    gems: "text=/Gem Manager|Správce|Roboti Gem|Gems/i"
  deepResearch:
    panel: "deep-research-immersive-panel"
    documentCard: "div.library-item-card"
    documentTitle: ".title"
    toolbarTitle: "h2.title-text"
    immersiveTitle: "h1"
    toggle: 'button[aria-label*="Deep Research"], button[aria-label*="Hloubkový výzkum"], div:has-text("Deep Research") > button'
    closeButton: 'button[aria-label*="Close Deep Research"], button[aria-label*="Zavřít hloubkový výzkum"], [aria-label*="Deep Research"] button:has(mat-icon), [aria-label*="Deep Research"] svg'
  gems:
    card: '[class*="gem-card"], .bot-row, [class*="gem-item"], [data-gem-id], .gem-tile, a[href*="/gem/"]'
    name: ".title, .bot-title, .gem-title, .gem-name"
    create: 'button:has-text("Create"), button:has-text("New Gem"), button:has-text("Vytvořit"), a:has-text("Create"), [aria-label*="Create" i]'
    nameInput: 'input[placeholder*="name" i], input[aria-label*="name" i]'
    instructionInput: 'textarea[placeholder*="instruction" i], textarea[aria-label*="instruction" i], div[contenteditable="true"][placeholder*="instruction" i]'
    save: 'button:has-text("Save"), button:has-text("Create"), button:has-text("Uložit"), button[type="submit"]'
  upload:
    button: 'button[mattooltip*="Přidat"], button[mattooltip*="Upload"], button[aria-label*="Přidat"], button[aria-label*="Upload"], .fonticon-plus-new, .fonticon-add-circle'
    fileInput: 'input[type="file"]'
    menu: '[role="menu"]'
    # Upload options
    uploadFile: 'text="Přidat soubory"|text="Upload files"|text="Nahrát soubory"|text="Upload from computer"'
    drive: 'text="Přidat z Disku"|text="Drive"'
    photos: 'text="Fotky"|text="Photos"'
    importCode: 'text="Importovat kód"|text="Import code"'
    notebooklm: 'text="NotebookLM"'
