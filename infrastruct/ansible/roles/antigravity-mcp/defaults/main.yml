---
# Antigravity MCP Configuration Role
# Manages mcp_config.json for Antigravity IDE

antigravity_config_dir: "{{ ansible_env.HOME }}/.gemini/antigravity"

# Windmill configuration
windmill_url: "http://halvarm:8000"
windmill_workspace: "knowlage"

# MCP Servers - set enabled: false to disable
mcp_servers:
  napovedayt:
    enabled: true
    serverUrl: "https://napoveda.youtrack.cloud/mcp"
    # Token should be passed via vault or CLI: -e youtrack_token=...
    disabledTools:
      - log_work

  github:
    enabled: true
    # Uses docker, token from env
    disabledTools:
      - assign_copilot_to_issue
      - get_teams
      - get_team_members
      - get_tag
      - get_release_by_tag
      - get_me
      - get_label
      - fork_repository
      - list_pull_requests
      - list_releases
      - request_copilot_review
      - search_pull_requests
      - search_users
      - sub_issue_write
      - delete_file
      - issue_write
      - list_branches
      - list_commits
      - list_issue_types
      - list_issues
      - issue_read
      - list_tags
      - search_issues
      - get_latest_release
      - add_issue_comment
      - add_comment_to_pending_review
      - create_branch

  jules_mcp:
    enabled: false
    _disabledReason: "Antigravity coerces numeric page_token to int, breaking pagination"

  gitkraken:
    enabled: true
    disabledTools:
      - issues_add_comment
      - issues_assigned_to_me
      - issues_get_detail
      - pull_request_create
      - pull_request_assigned_to_me
      - repository_get_file_content
      - git_add_or_commit
      - git_blame
      - git_branch
      - git_checkout
      - git_log_or_diff
      - git_push
      - git_stash
      - git_status
      - git_worktree
      - gitkraken_workspace_list

  sequential_thinking:
    enabled: false
