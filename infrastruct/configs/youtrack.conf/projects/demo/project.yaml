# Demo Project Configuration
# This file defines the desired YouTrack configuration for the DEMO project.

project:
  name: Demo Project
  shortName: DEMO
  leader: admin
  template: std-agent-v1

boards:
  - name: "Demo Agile Board"
    column_field: "State"
    sprints:
      enabled: false
    visible_to:
      - "All Users"
    columns:
      - "To do"
      - name: "In Progress"
        max_wip: 3
      - "Done"
    swimlane_field: "Subsystem"
    color_coding:
      mode: field
      field: Priority
    backlog_query: "project: DEMO State: Open #Unresolved"

  - name: "Sprint Board 2026"
    column_field: "State"
    sprints:
      enabled: false
    visible_to:
      - "All Users"
    columns:
      - "To do"
      - "In Progress"
      - "Done"

fields:
  # State field for issue workflow
  - name: State
    type: state
    bundle: DemoStates
    values:
      - name: Open
        resolved: false
      - name: In Progress
        resolved: false
      - name: Done
        resolved: true

  # Priority dropdown
  - name: Priority
    type: enum
    bundle: PriorityBundle
    default_value: Medium
    values:
      - Critical
      - High
      - Medium
      - Low

workflows:
  - name: auto-tag-urgent
    title: Auto Tag Urgent Issues
    attached: true
    rules:
      - name: tag-critical-urgent
        type: on-change
        script_file: workflows/tag-critical-urgent.js
      - name: log-changes-iac-test
        type: on-change
        script_file: workflows/log-changes.js

# Global Tags managed by IaC
tags:
  - name: "urgent"
    untag_on_resolve: true
  - name: "blocked"
    untag_on_resolve: false
  - name: "needs-review"

# Saved Queries (Searches)
saved_queries:
  - name: "My Open Issues"
    query: "project: DEMO for: me State: -Done"
  - name: "Critical Bugs"
    query: "project: DEMO Priority: Critical"
